git-zsh-upstream(){
	dd=${0:a:h}
	if [ ! -d $dd/.git ];then
		exit
	else
		url=`cat ${0:a:h}/.git/config|grep url|cut -d = -f 2|tr -d ' '`
	fi
	case $3 in
		-n) 
			git_zsh_local_file=`git --no-pager log -n 2 --graph --name-status --pretty=format:'%C(green)%an' --author=$USER | tr -d '\t' | cut -d ' ' -f 2|grep -v -e "|$USER" -e "$USER|"|grep -v -e '^\s*#' -e '^\s*$'|sed '$d'|cut -b 2-|sort | uniq`
			#git --no-pager log -n 2 --graph --name-status --pretty=format:'%C(green)%an' | tr -d '\t' | cut -d ' ' -f 2|grep -v -e "|$USER" -e "$USER|"|grep -v -e '^\s*#' -e '^\s*$'|sed '$d'|cut -b 2-|sort | uniq
		;;
		"")
			git_zsh_local_file=`git --no-pager log --graph --name-status --pretty=format:'%C(green)%an' --author=$USER | tr -d '\t' | cut -d ' ' -f 2|grep -v -e "|$USER" -e "$USER|"|grep -v -e '^\s*#' -e '^\s*$'|sed '$d'|cut -b 2-|sort | uniq`
		;;
		*)
			exit
		;;
	esac

	if [ `echo "$url" | wc -l` -ne 1 ];then
		key=`echo "$url" |sed '1d'| peco`
	else
		echo $url
		echo "update url(.git) :"
		read key
	fi

	if [ -z "$key" ];then 
		exit
	fi
	git remote add upstream $key
	if ! git fetch upstream ;then
		echo no fetch
		exit
	fi
	git merge upstream/master --allow-unrelated-histories
}
